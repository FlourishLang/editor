<!doctype html>

<title>CodeMirror</title>
<meta charset="utf-8"/>

<link rel=stylesheet href="lib/codemirror.css">
<link rel=stylesheet href="doc/docs.css">
<link rel=stylesheet href="theme/material.css">


<script src="lib/codemirror.js"></script>
<script src="addon/edit/matchbrackets.js"></script>
<script src="http://localhost:3000/socket.io/socket.io.js"></script>
<script src="addon/selection/active-line.js"></script>
<script src="flourish/flourishMode.js"></script>
<script src="flourish/treeSitter/treeSitter.js"></script>
<script src="addon/lint/lint.js"></script>
<link rel="stylesheet" href="addon/lint/lint.css">





<style>
  .CodeMirror { height: auto; border: 1px solid #ddd; }
  .CodeMirror-scroll { max-height: 500px; }
  .CodeMirror pre { padding-left: 7px; line-height: 1.25; }
  .banner { background: #ffc; padding: 6px; border-bottom: 2px solid silver;  }
  .banner div { margin: 0 auto; max-width: 700px; text-align: center; }
  .changed-background { background-color: rgba(255, 0, 255, 0.208); }
  .edited-background { background-color: rgba(0, 255, 255, 0.201) }

</style>

  <form style="position: relative; margin-top: .5em;"><textarea id=demotext>
print (innerarge sd ) 
set a (+ err sdas)
print asdasd (+ asdas)
defun (max x y)
defun (max (x 200) (y 455))
  </textarea>
  <script>
    var content = localStorage.getItem("edtordata"); 
    if (content) {
       document.getElementById("demotext").value = content;
    }
    


    var editor = CodeMirror.fromTextArea(document.getElementById("demotext"), {
      lineNumbers: true,
      mode: 'text/x-flourish',
      matchBrackets: true,
      //  theme:"material",
      treeSitter: true,
      lint:true,
      styleActiveLine: true,
      gutters: ["CodeMirror-lint-markers"],


    });
    // editor.markText({line: 0, ch: 5}, {line: 0, ch: 10}, {className: "styled-background",clearOnEnter:true});

    CodeMirror.commands.save = function (editor) {
      localStorage.setItem("edtordata",editor.getValue()); 
    };

  </script>




